--- project/tmp/src/logic/9.agilogic	2025-12-22 14:24:39.672119007 +0000
+++ /tmp/9.agilogic.modified	2025-12-22 15:01:06.407001005 +0000
@@ -35,15 +35,23 @@
   animate.obj(o2);
   ignore.blocks(o2);
   ignore.objs(o2);
-  position(o2, 90, 50);
-  set.cel(o2, 0);
+  position(o2, 3, 51);
   set.priority(o2, 4);
   animate.obj(o3);
   ignore.blocks(o3);
   ignore.objs(o3);
-  position(o3, 8, 50);
-  set.cel(o3, 1);
-  v31 = 1;
+  if (v52 == 1) {
+    set.cel(o2, 0);
+    position(o3, 51, 51);
+    set.cel(o3, 1);
+    v31 = 1;
+  } else {
+    position(o2, 10, 51);
+    set.cel(o2, 1);
+    position(o3, 50, 51);
+    set.cel(o3, 0);
+    v31 = 0;
+  }
   set.priority(o3, 4);
   animate.obj(o6);
   set.view(o6, 43);
@@ -73,9 +81,15 @@
   stop.update(o4);
   draw(o2);
   stop.cycling(o2);
-  move.obj(o2, 8, 50, 0, f32);
   draw(o3);
   stop.cycling(o3);
+  if (v52 == 1) {
+    move.obj(o2, 99, 51, 0, f32);
+    move.obj(o3, 99, 51, 0, f33);
+  } else {
+    move.obj(o2, 90, 51, 0, f32);
+    move.obj(o3, 90, 51, 0, f33);
+  }
 
   if (!(v69 > 0)) {
     v69 = 1;
@@ -294,72 +308,68 @@
 
   if (f32) {
     reset(f32);
-  
-    if (v31 == 2) {
-      v31 = 0;
-      set.cel(o2, 0);
-    } else {
-      if (v31 == 0) {
-        v31 = 1;
-        set.cel(o2, 1);
-      } else {
-        if (v31 == 1) {
-          if (v52 == 0) {
-            v31 = 0;
-            set.cel(o2, 0);
-          } else {
-            v31 = 2;
-            set.cel(o2, 2);
-          }
-        }
-      }
-    }
   }
 
 Address1731:
   get.posn(o3, v32, v33);
 
-  if (v32 == 44) {
-    v65 = 82;
-    v66 = 0;
-    reposition(o2, v65, v66);
-    move.obj(o2, 8, 50, 0, f32);
+  if (v52 == 1) {
+    if (v32 == 99) {
+      set.cel.v(o3, v31);
+      v31++;
+      if (v31 > 1) {
+        v31 = 0;
+      }
+      v65 = 160;
+      v66 = 0;
+      reposition(o3, v65, v66);
+      move.obj(o3, 99, 51, 0, f33);
+    }
+  } else {
+    if (v32 == 90) {
+      set.cel.v(o3, v31);
+      v31++;
+      if (v31 > 1) {
+        v31 = 0;
+      }
+      v65 = 176;
+      v66 = 0;
+      reposition(o3, v65, v66);
+      move.obj(o3, 90, 51, 0, f33);
+    }
   }
 
-Address1758:
-
   if (f33) {
     reset(f33);
-  
-    if (v31 == 2) {
-      v31 = 0;
-      set.cel(o3, 0);
-    } else {
-      if (v31 == 0) {
-        v31 = 1;
-        set.cel(o3, 1);
-      } else {
-        if (v31 == 1) {
-          if (v52 == 0) {
-            v31 = 0;
-            set.cel(o3, 0);
-          } else {
-            v31 = 2;
-            set.cel(o3, 2);
-          }
-        }
-      }
-    }
   }
 
 Address1827:
   get.posn(o2, v34, v35);
 
-  if (v34 == 44) {
-    v65 = 82;
-    v66 = 0;
-    reposition(o3, v65, v66);
-    move.obj(o3, 8, 50, 0, f33);
+  if (v52 == 1) {
+    if (v34 == 99) {
+      set.cel.v(o2, v31);
+      v31++;
+      if (v31 > 1) {
+        v31 = 0;
+      }
+      v65 = 160;
+      v66 = 0;
+      reposition(o2, v65, v66);
+      move.obj(o2, 99, 51, 0, f32);
+    }
+  } else {
+    if (v34 == 90) {
+      set.cel.v(o2, v31);
+      v31++;
+      if (v31 > 1) {
+        v31 = 0;
+      }
+      v65 = 176;
+      v66 = 0;
+      reposition(o2, v65, v66);
+      move.obj(o2, 90, 51, 0, f32);
+    }
   }
 
 Address1854:
@@ -508,7 +518,7 @@
 
 Address895:
 
-  if (said("check out", "right", "closet") || said("look in", "right", "closet")) {
+  if (said("check out", "closet", "right") || said("look in", "closet", "right")) {
     if (obj.in.box(o0, 40, 94, 98, 107)) {
       if (v69 > 1) {
         if (!(v81 > 0)) {
@@ -526,7 +536,7 @@
 
 Address959:
 
-  if (said("check out", "left", "closet") || said("look in", "left", "closet")) {
+  if (said("check out", "closet", "left") || said("look in", "closet", "left")) {
     if (obj.in.box(o0, 40, 94, 98, 107)) {
       if (v70 > 1) {
         if (!has(i3)) {
@@ -558,7 +568,7 @@
 
 Address1055:
 
-  if (said("press", "right") || said("press", "right", "button")) {
+  if (said("press", "right") || said("press", "button", "right")) {
     if (obj.in.box(o0, 57, 94, 82, 105)) {
       if (v69 == 1) {
         prevent.input();
@@ -580,7 +590,7 @@
 
 Address1126:
 
-  if (said("press", "left") || said("press", "left", "button")) {
+  if (said("press", "left") || said("press", "button", "left")) {
     if (obj.in.box(o0, 57, 94, 82, 105)) {
       if (v70 == 1) {
         prevent.input();
@@ -654,7 +664,7 @@
 Address1351:
 
   if (obj.in.box(o0, 54, 142, 97, 159)) {
-    if (said("press", "button") || said("press", "airlock", "button") || said("press", "airlock")) {
+    if (said("press", "button") || said("press", "button", "airlock") || said("press", "airlock")) {
       if (v36 == 1) {
         start.update(o7);
         end.of.loop(o7, f35);
